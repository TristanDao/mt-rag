{"task_id": "d5b1e735a040853ed361a3dfde1b8ef0<::>1", "input": [{"speaker": "user", "text": "does IBM offer document databases?", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724856842}}], "contexts": [{"document_id": "ibmcld_00474-7885-8455", "source": "Cloudant", "score": 18.44473, "text": "\nSummary \n\nToday, we combined two IBM Cloud services to optimize cost and user experience: IBM Cloudant as a document store and query engine and Databases for Redis as a content cache. Cached documents can be retrieved more quickly and more cheaply, but the tradeoff is that your application might be showing old data to your users for a time.\n\nIf you followed this tutorial, you must deprovision your resources to stop incurring charges. You can deprovision from the terraform directory on your terminal by typing the following command, terraform destroy --auto-approve.", "reference": true}, {"document_id": "ibmcld_00513-7-2197", "source": "Cloudant", "score": 18.216822, "text": "\nDatabase overview \n\nIBM\u00ae Cloudant\u00ae for IBM Cloud\u00ae databases contain JSON objects. These JSON objects are called [documents](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-documentsdocuments).\n\nAll documents must be contained in a database. For more information, see [partitioned databases](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-databasespartitioned-databases-database).\n\nThe [Grouping related documents together in IBM Cloudant](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-grouping-related-documents-together-in-ibm-cloudantgrouping-related-documents-together-in-ibm-cloudant) guide provides an example of how documents for an e-commerce application might be used within an IBM Cloudant database.\n\n\n\n Partitioned databases \n\nIBM Cloudant supports two types of databases:\n\n\n\n* Partitioned\n* Nonpartitioned\n\n\n\nA partitioned database offers significant query performance and cost advantages but requires you to specify a logical partitioning of your data. The partitioning is specified as part of each document's ID. A partitioned database provides both global and partition queries. Partition queries target queries at a single, given document partition, meaning they need to process less data to return results. Therefore, partition queries offer significant performance advantages, and also often provide cost advantages over global queries. Global queries target the entire database, which leads to extra complexity, slower performance, and increased cost, but offers results that draw from all data.\n\nAlternatively, a nonpartitioned database might be created. This type of database can be less complex to work with since no partitioning scheme needs to be defined, but you can create only global secondary indexes.\n\nIBM Cloudant strongly encourages you to use a partitioned database for best long-term database performance where the data model allows for logical partitioning of documents.\n\nThe partitioning type of a database is set at database creation time. When you create a database, use the partitioned query string parameter to set whether the database is partitioned. The default for partitioned is false, maintaining compatibility with an earlier version.", "reference": true}, {"document_id": "ibmcld_06317-3-1479", "source": "databases-for-cassandra", "score": 18.014393, "text": "\nIBM Cloud\u00ae Databases for DataStax docs \n\nIBM Cloud\u00ae Databases for DataStax is a scale-out NoSQL database built on Apache Cassandra, designed for high-availability and workload flexibility.\n\n Developer tools \n\n[API & SDK reference](https://cloud.ibm.com/apidocs/cloud-databases-api/cloud-databases-api-v5introduction)[CLI reference](https://cloud.ibm.com/docs/databases-cli-plugin)[Terraform reference](https://registry.terraform.io/providers/IBM-Cloud/ibm/latest/docs/resources/database)\n\n Recommended content \n\n[Deprecation of IBM Cloud\u00ae Databases for DataStax IBM Cloud\u00ae Databases for DataStax is deprecated and no longer supported as of 30 June 2024.](https://cloud.ibm.com/docs/databases-for-cassandra?topic=databases-for-cassandra-deprecation)[Setting the Admin Password The Databases for DataStax service is provisioned with an admin user. You must set the admin password before you use it to connect.](https://cloud.ibm.com/docs/databases-for-cassandra?topic=databases-for-cassandra-admin-password&interface=cli)[Creating and managing users, roles, and privileges IBM Cloud\u00ae Databases for DataStax uses a system of roles to manage database permissions. Roles are used to give a single user or a group of users a set of privileges.](https://cloud.ibm.com/docs/databases-for-cassandra?topic=databases-for-cassandra-user-management&interface=cli)\n\n Learn more \n\n[IBM Developer<br><br>Visit IBM Developer for technical articles, code patterns, tutorials, and more.<br><br>!"}, {"document_id": "ibmcld_00482-7-2325", "source": "Cloudant", "score": 17.95232, "text": "\nConflicts \n\nIn distributed databases, copies of data might be stored in more than one location. The natural network and system characteristics of the network might mean that changes made to a document stored in one location can't instantly update or replicate to other parts of the database.\n\nIn other words, independent updates can be made to different copies of documents. The effect of these updates might be to introduce disagreement or \"conflicts\" as to what is the correct, definitive content for the document.\n\nIBM\u00ae Cloudant\u00ae for IBM Cloud\u00ae tries to help you avoid conflicts by warning you of potential problems. It warns you by returning a [409 response](https://cloud.ibm.com/apidocs/cloudantlist-of-http-codes) to a problematic update request. However, a 409 response might not be received if the database update is requested on a system that isn't currently connected to the network. For example, the database might be on a mobile device that is temporarily disconnected from the Internet, which makes it impossible to check whether other potentially conflicting updates were made.\n\nIf you request a document that is in a conflict situation, IBM Cloudant returns the document as expected. However, an internal algorithm considers a number of factors before it determines which document version to return. You must not assume that the returned document is the most recent version.\n\nFor example, if you don't check for conflicts, or fail to address them, your IBM Cloudant database can exhibit the following behaviors:\n\n\n\n* Increasing inconsistencies in document content because more conflicting documents occur.\n* Increasing database size because all conflicting documents must be kept until the conflict is resolved.\n* Decreasing performance because IBM Cloudant must work harder in response to each request as it tries to identify the \"best possible\" version of a conflicted document.\n\n\n\nThe following suggested practices might help you decide when to check for, and resolve, conflicts:\n\n\n\nTable 1. Suggested practices\n\n Application characteristic Frequency of document update Check for conflicts at retrieval? Check for conflicts at update? \n\n Always connected to the network, for example, a server. Often Y <br><br> * <br><br><br> \n Always connected to the network. Occasionally <br><br> * <br><br><br> Y"}, {"document_id": "ibmcld_06994-7-1971", "source": "discovery-data", "score": 17.931276, "text": "\nDatabase \n\nCrawl documents that are stored in a database that supports the Java Database Connectivity (JDBC) API.\n\nIBM Cloud Pak for Data\n\nIBM Cloud Pak for Data only\n\nThis information applies only to installed deployments.\n\n\n\n What documents are crawled \n\n\n\n* Each row in the database is crawled and added to the collection as one document. The columns are indexed as metadata.\n* The crawler attempts to crawl and index content, such as BLOB/BINARY, that is stored in the database. File types that are supported by Discovery are indexed. For more information, see [Supported file types](https://cloud.ibm.com/docs/discovery-data?topic=discovery-data-collectionssupportedfiletypes).\n* When a source is recrawled, new documents are added, updated documents are modified to the current version, and deleted documents are deleted from the collection's index.\n* All Discovery data source connectors are read-only. Regardless of the permissions that are granted to the crawl account, Discovery never writes, updates, or deletes any content in the original data source.\n\n\n\n\n\n\n\n Data source requirements \n\nIn addition to the [data source requirements](https://cloud.ibm.com/docs/discovery-data?topic=discovery-data-collection-typesrequirements) for all installed deployments, your database data source must meet the following requirements:\n\n\n\n* Discovery supports the following data source versions:\n\n\n\n* Data Virtualization on IBM Cloud Pak for Data 1.8.0, 1.8.3 which use Db2 11.5\n* IBM Db2: 10.5, 11.1, 11.5\n* Microsoft SQL Server: 2012, 2014, 2016, 2017\n* Oracle Database: 12c, 18c, 19c\n* PostgreSQL: 9.6, 10, 11\n\n\n\nSupport for Data Virtualization was added with IBM Cloud Pak for Data 4.5.x releases\n* You must obtain any required service licenses for the data source that you want to connect to. For more information about licenses, contact the system administrator of the data source.\n\n\n\n\n\n\n\n Prerequisite step \n\n\n\n* Decide which database tables you want to crawl."}], "targets": [{"speaker": "agent", "text": "Yes, IBM offers [IBM Cloudant](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-documents) which stores JSON objects.", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724856843}}], "predictions": [{"text": "Yes, IBM offers document databases through IBM Cloudant, which contains JSON objects called documents."}], "metrics": {"Recall": [0.7777777777777778], "RougeL_stemFalse": [0.5], "BertscoreP": [0.5174316763877869], "BertscoreR": [0.1652858853340149], "BertKPrec": [0.28157714009284973, 0.26040133833885193, 0.12538689374923706, 0.1332465261220932, 0.09874506294727325], "Extractiveness_RougeL": [0.0761904761904762, 0.04225352112676056, 0.040268456375838924, 0.033426183844011144, 0.028268551236749116], "Length": [102], "RB_agg": [0.5685162337556458]}}
{"task_id": "d5b1e735a040853ed361a3dfde1b8ef0<::>2", "input": [{"speaker": "user", "text": "does IBM offer document databases?", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724856842}}, {"speaker": "agent", "text": "Yes, IBM offers [IBM Cloudant](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-documents) which stores JSON objects.", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724856843}}, {"speaker": "user", "text": "So it can store any random JSON object or I need to specify fields in advances?", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724857810}}], "contexts": [{"document_id": "ibmcld_00576-7385-9302", "source": "Cloudant", "score": 21.816877, "text": "\nIBM Cloudant doesn't have the concept of joins like a relational database, so data isn't normalized. However, data can repeat across objects. For example, an order document can include a subset of the product documents that were purchased.\n\nIt's common to store several object types in the same database: a convention is that a type attribute is used to denote the object type. This option is a good one if you need to perform queries that return several object types or if a database needs to be replicated to another location altogether. Otherwise, separate databases, for example, users, orders, products, might be better so that secondary indexes are specific to each object type.\n\nIf you're storing arrays of objects within a document, consider whether the array items must really be their own document. For example, a product and each product review must be stored in separate documents, but a user and each of that user's orders must have their own document.\n\nIf you have an ever-growing data set, then you probably don't want to store data in a single, ever-growing database. Data is best stored in time-boxed databases that allow older data to be archived and deleted cleanly. Deleting an IBM Cloudant document leaves a tombstone document behind, so don't rely on deleting documents to recover disk space. Instead, you must rely on deleting whole databases.\n\nJSON doesn't offer a native way to store dates or timestamps. Choose your [date format](https://blog.cloudant.com/2018/05/24/Date-formats.html) carefully if you intend to query it later.\n\nThe maximum document size is 1 MB, but documents must be much smaller than that size, typically a few KB.\n\nFor more information, see the following blog posts:\n\n\n\n* [Optimal IBM Cloudant Indexing](https://blog.cloudant.com/2019/05/10/Optimal-Cloudant-Indexing.html)\n* [Time-series Data Storage](https://blog.cloudant.com/2019/04/08/Time-series-data-storage.html)"}, {"document_id": "ibmcld_00580-4796-6846", "source": "Cloudant", "score": 21.801737, "text": "\nAn IBM Cloudant document must be a JSON object, starting and ending with curly braces and containing a number of key-value attributes.\n\nJSON objects must be less that 1 megabyte in size and contain any number of strings, numbers, booleans, arrays, and objects. The nesting of objects within objects can continue to any depth.\n\nThe keys that are used can be as brief or verbose as you like.\n\nThe following list includes some simple example documents that show how each data type is used.\n\n\n\n* The first example shows a person object, storing strings, booleans, and an array of tags.\n* The second example shows brief attribute names to save on storage and represents a web event such as click a website.\n* The last example shows how the document may itself contain subjects.\n\n\n\nA note on dates. JSON has no native Date type, so dates are usually stored in 30-October-2018 or similar formats. We return to dates later.\n\nNow, for your first practical exercise, visit www.ibm.com/cloud. Register an account with the IBM Cloud, if you don't have one already.\n\nOnce registered, you can click services, search for the Cloudant database, and provision a new service.\n\nThe IBM Cloudant Lite service provides a free plan to allow users to try IBM Cloudant in a limited capacity while in development. Its bigger brother, the Standard Plan, is a paid-for service where you specify the number of reads, writes, and queries per second for your application and that capacity is reserved for you. You pay for the capacity you provision and your data storage usage.\n\nThe Lite plan operates in a similar way. It has only a small provisioned capacity and a fixed storage size, but it's fine for testing the IBM Cloudant service.\n\nIBM Cloudant is often referred to as a \"schemaless\" database - but we have to be careful how we define that term.\n\nIt's true to say that you don't need to define your schema (field names, types, constraints, and relationships) ahead of time in an IBM Cloudant database. You can simply write a JSON document of your own design to a database."}, {"document_id": "ibmcld_00623-7-1781", "source": "Cloudant", "score": 21.163698, "text": "\nWorking with IBM Cloudant Query \n\nIBM\u00ae Cloudant\u00ae for IBM Cloud\u00ae Query is a declarative JSON querying syntax for IBM Cloudant databases. You can use a json or text type of index with IBM Cloudant.\n\nIn the following cases, you can specify how the index is created by making it of type json:\n\n\n\n* You know exactly what data you want to look for.\n* You want to keep storage and processing requirements to a minimum.\n\n\n\nBut for maximum flexibility when you search for data, you typically create an index of type text. Indexes of type text have a simple mechanism for automatically indexing all the fields in the documents.\n\nWhile more flexible, text indexes might take longer to create and require more storage resources than json indexes.\n\n\n\n Creating an index \n\nYou can create an index with one of the following types:\n\n\n\n* \"type\": \"json\"\n* \"type\": \"text\"\n\n\n\n\n\n Creating a type=json index \n\nTo create a JSON index in the database $DATABASE, make a POST request to /$DATABASE/_index with a JSON object that describes the index in the request body. The type field of the JSON object must be set to json. A JSON index can be partitioned or global; this option is set by using the partitioned field.\n\nSee the following example that uses HTTP to request an index of type JSON:\n\nPOST /$DATABASE/_index HTTP/1.1\nContent-Type: application/json\n\nSee the following example of a JSON object that creates a partitioned index that is called foo-partitioned-index for the field called foo:\n\n{\n\"index\": {\n\"fields\": [\"foo\"]\n},\n\"name\" : \"foo-partitioned-index\",\n\"type\" : \"json\",\n\"partitioned\": true\n}\n\nSee the following example of a JSON object that creates a global index that is called bar-global-index for the field called bar:\n\n{\n\"index\": {\n\"fields\": [\"bar\"]\n},\n\"name\" : \"bar-global-index\","}, {"document_id": "ibmcld_00555-7-1930", "source": "Cloudant", "score": 21.062454, "text": "\nHow JavaScript Object Notation (JSON) works \n\nMost requests and responses to and from IBM\u00ae Cloudant\u00ae for IBM Cloud\u00ae use [JSON](https://en.wikipedia.org/wiki/JSON) for formatting the content and structure of the data and responses.\n\nIn IBM Cloudant databases, the JSON object is used to represent various structures, including all documents in a database.\n\nParsing JSON into a JavaScript object is supported through the JSON.parse() function in JavaScript, or through various [libraries](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-client-librariesclient-libraries) that perform the parsing of the content into a JavaScript object for you. Libraries for parsing and generating JSON are available for many major programming languages.\n\nJSON is used because it's the simplest and easiest solution for working with data that uses a web browser. As a result, JSON structures can be evaluated and used as JavaScript objects within the web browser environment. JSON also integrates with the server-side JavaScript used within IBM Cloudant. JSON documents are always UTF-8 encoded.\n\nBe careful to follow these guidelines:\n\n\n\n* Your JSON structures are valid.\n* You normalize strings in JSON documents retrieved from IBM Cloudant.\n\n\n\nJSON supports the same basic types that are supported by JavaScript: numbers, strings, Booleans, arrays, and objects.\n\n\n\n Numbers \n\nNumbers can be integer or floating point values.\n\n\n\n Example of a number in JSON format \n\n123\n\n\n\n\n\n\n\n Strings \n\nStrings must be enclosed by double quotation marks. Strings support Unicode characters and escaping a backslash.\n\n\n\n Example of a string in JSON format \n\n\"A String\"\n\n\n\n\n\n\n\n Booleans \n\nA true or false value.\n\n\n\n Example of a boolean in JSON format \n\n{\n\"value\": true\n}\n\n\n\n\n\n\n\n Arrays \n\nA list of values enclosed in brackets. The values that are enclosed can be any valid JSON.\n\n\n\n Example of an array in JSON format \n\n[\n\"one\",\n2,\n\"three\",\n],\ntrue,\n{"}, {"document_id": "ibmcld_00580-6386-8382", "source": "Cloudant", "score": 20.772224, "text": "\nIt has only a small provisioned capacity and a fixed storage size, but it's fine for testing the IBM Cloudant service.\n\nIBM Cloudant is often referred to as a \"schemaless\" database - but we have to be careful how we define that term.\n\nIt's true to say that you don't need to define your schema (field names, types, constraints, and relationships) ahead of time in an IBM Cloudant database. You can simply write a JSON document of your own design to a database.\n\nDevelopers like this flexibility because they can design their data in their code, turn it into JSON, and write it to the database.\n\nIt's still important to think about the shape of your data, especially in terms of how you are going to query and index it, as we see later.\n\nData design is still required, but strictly speaking that database doesn't need to know about your schema.\n\nLet's say we want to create a database of US presidents. We can simply devise our \"model\" of the data in our app, turn it into JSON, and write it to the database. In this case, we are using a common CouchDB convention: the \"type\" field indicates the data type of the document.\n\nIf at a future date we decide we want to add more data to our \"schema\", we can simply write a new object to the database with no complaints from IBM Cloudant. We could decide to add the \"address\" object only to the following documents:\n\n\n\n* Documents that are created from now on.\n* Only documents that we have addresses for.\n\n\n\nIn other words, documents of the same type can have fields present or missing.\n\nYour database's schema can evolve over time to match your application's needs. You don't (necessarily) need to tell the database about the schema change - write new documents in the new format.\n\nWe can even store multiple document \"types\" in the same database. In this case, people, books, and places reside in the same database. We know which is which because of the \"type\" field (this field is a convention and not something that means anything to IBM Cloudant)."}], "targets": [{"speaker": "agent", "text": "Yes, IBM Cloudant can store any JSON object subject to some caveats listed below\n1. All documents must have two fields:\n    * A unique _id field. The _id field is detailed in the next section.\n    * A _rev field. The _rev field is a revision identifier, and is essential to the IBM Cloudant replication protocol.\n2. Field names that begin with the underscore character (_) are reserved in IBM Cloudant. This rule means that you can't normally have your own field names that begin with an underscore. For example, the field example would be accepted, but the field _example would result in a doc_validation error message.\n", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724857812}}], "predictions": [{"text": "You do not need to define your schema (field names, types, constraints, and relationships) ahead of time in an IBM Cloudant database. You can write any JSON document of your own design to the database. However, it is still important to consider the shape of your data, especially for querying and indexing purposes."}], "metrics": {"Recall": [0.17582417582417584], "RougeL_stemFalse": [0.1518987341772152], "BertscoreP": [0.17771077156066895], "BertscoreR": [-0.04607096686959267], "BertKPrec": [0.22685250639915466, 0.44489189982414246, 0.14141139388084412, 0.16916599869728088, 0.5261307954788208], "Extractiveness_RougeL": [0.10682492581602375, 0.15384615384615385, 0.10149253731343283, 0.09202453987730062, 0.2113022113022113], "Length": [315], "RB_agg": [0.30028740449197716]}}
{"task_id": "d5b1e735a040853ed361a3dfde1b8ef0<::>3", "input": [{"speaker": "user", "text": "does IBM offer document databases?", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724856842}}, {"speaker": "agent", "text": "Yes, IBM offers [IBM Cloudant](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-documents) which stores JSON objects.", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724856843}}, {"speaker": "user", "text": "So it can store any random JSON object or I need to specify fields in advances?", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724857810}}, {"speaker": "agent", "text": "Yes, IBM Cloudant can store any JSON object subject to some caveats listed below\n1. All documents must have two fields:\n    * A unique _id field. The _id field is detailed in the next section.\n    * A _rev field. The _rev field is a revision identifier, and is essential to the IBM Cloudant replication protocol.\n2. Field names that begin with the underscore character (_) are reserved in IBM Cloudant. This rule means that you can't normally have your own field names that begin with an underscore. For example, the field example would be accepted, but the field _example would result in a doc_validation error message.\n", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724857812}}, {"speaker": "user", "text": "What if I want to store an image or pdf with a document? ", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724859702}}], "contexts": [{"document_id": "ibmcld_06968-15099-17180", "source": "discovery-data", "score": 19.021631, "text": "\n[checkmark icon](https://cloud.ibm.com/docs-content/v1/content/f16b1f78a92498247223b337bd9303c2758b9ba8/icons/checkmark-icon.svg) \n\n\n\n\n\n* PDF files that are secured with a password or certificate are not supported. Vector objects, including SVG images and vectorized text, are not supported. Only images of the supported image file types that occur in the PDF are rendered.\n* Only single-page image files are supported.\n* Files within compressed archive files (ZIP, GZIP, TAR) are extracted. Discovery ingests the supported file types within the archive; it ignores all other file types. The file names must be encoded in UTF-8. Files with names that include Japanese characters, for example, must be renamed before they are added to the ZIP file.\n* Discovery supports MacOS ZIP files only if they are generated by using a command such as: zip -r my-folder.zip my-folder -x \".DS_Store\". ZIP files that are created by right-clicking a folder and clicking Compress are not supported.\n* PDF files that you upload as part of an archive file are not displayed in the advanced view for a query result that you open from the Improve and customize page. If you want the file to be viewable from the advanced view, reimport the PDF file separately from the archive file.\n\n\n\nWhen you add files to a Document Retrieval for Contracts project type, any file types that support SDU and OCR are processed with a pretrained Smart Document Understanding model and Optical Character Recognition automatically.\n\n\n\n\n\n Document limits \n\nThe number of documents that are allowed per service instance depends on your Discovery plan type.\n\nThe document limit applies to the number of documents in the index. Upload fewer documents at the start if the enrichments that you plan to apply might increase the number of documents later. For example, the following configurations generate more documents:\n\n\n\n* Splitting documents segments one document into multiple documents\n* CSV files that you upload generate one document per line\n* Database data sources that you crawl produce one document per database row"}, {"document_id": "ibmcld_00510-7123-9213", "source": "Cloudant", "score": 17.654953, "text": "\nIBM Cloudant has support for storing attachments alongside documents, a long-standing feature it inherits from CouchDB. If you use IBM Cloudant as a backend for a web application, you can also store small icons and other static assets such as CSS and JavaScript files with the data.\n\nYou must consider a few things before you use attachments in IBM Cloudant today, especially if you\u2019re looking at larger assets such as images and videos:\n\n\n\n1. IBM Cloudant is expensive as a block store.\n2. IBM Cloudant\u2019s internal implementation is not efficient in handling large amounts of binary data.\n\n\n\nSo, slow and expensive.\n\nIBM Cloudant is acceptable for small assets and occasional use. As a rule, if you need to store binary data alongside IBM Cloudant documents, it\u2019s better to use a separate solution more suited for this purpose. You need store only the attachment metadata in the IBM Cloudant document. Yes, that means you need to write some extra code to upload the attachment to a suitable block store of your choice. Verify that it succeeded before you store the token or URL to the attachment in the IBM Cloudant document.\n\nYour databases are smaller, cheaper, faster, and easier to replicate. For more information, see the following websites:\n\n\n\n* IBM Cloudant docs on [attachments](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-how-to-use-attachments)\n* Detaching IBM Cloudant attachments to [Object Storage](https://medium.com/codait/detaching-cloudant-attachments-to-object-storage-with-serverless-functions-99b8c3c77925)\n\n\n\n\n\n\n\n Fewer databases are better than many \n\nIf you can, limit the number of databases per IBM Cloudant account to 500 or fewer. While this particular number is not magic (IBM Cloudant can safely handle more), several use cases exist that are adversely affected by large numbers of databases in an account.\n\nThe replicator scheduler has a limited number of simultaneous replication jobs that it is prepared to run. As the number of databases grows, the replication latency is likely to increase if you try to replicate everything contained in an account.", "reference": true}, {"document_id": "ibmcld_00576-7385-9302", "source": "Cloudant", "score": 17.440033, "text": "\nIBM Cloudant doesn't have the concept of joins like a relational database, so data isn't normalized. However, data can repeat across objects. For example, an order document can include a subset of the product documents that were purchased.\n\nIt's common to store several object types in the same database: a convention is that a type attribute is used to denote the object type. This option is a good one if you need to perform queries that return several object types or if a database needs to be replicated to another location altogether. Otherwise, separate databases, for example, users, orders, products, might be better so that secondary indexes are specific to each object type.\n\nIf you're storing arrays of objects within a document, consider whether the array items must really be their own document. For example, a product and each product review must be stored in separate documents, but a user and each of that user's orders must have their own document.\n\nIf you have an ever-growing data set, then you probably don't want to store data in a single, ever-growing database. Data is best stored in time-boxed databases that allow older data to be archived and deleted cleanly. Deleting an IBM Cloudant document leaves a tombstone document behind, so don't rely on deleting documents to recover disk space. Instead, you must rely on deleting whole databases.\n\nJSON doesn't offer a native way to store dates or timestamps. Choose your [date format](https://blog.cloudant.com/2018/05/24/Date-formats.html) carefully if you intend to query it later.\n\nThe maximum document size is 1 MB, but documents must be much smaller than that size, typically a few KB.\n\nFor more information, see the following blog posts:\n\n\n\n* [Optimal IBM Cloudant Indexing](https://blog.cloudant.com/2019/05/10/Optimal-Cloudant-Indexing.html)\n* [Time-series Data Storage](https://blog.cloudant.com/2019/04/08/Time-series-data-storage.html)"}, {"document_id": "ibmcld_07152-5566-7596", "source": "discovery", "score": 17.246521, "text": "\nYou can view the number of documents stored and the total amount of storage used by either using the [Environments](https://cloud.ibm.com/apidocs/discoveryget-environment-info) or [Collections](https://cloud.ibm.com/apidocs/discoveryget-collection-details) API, or by using the tooling. If your documents are, on average, larger than 100KB on disk, you will hit the storage limit of a plan before the maximum document limit. If you perform [document segmentation](https://cloud.ibm.com/docs/discovery?topic=discovery-configservicedoc-segmentation) on your documents, each segment counts as a separate document.\n\n** The [IBM Watson\u2122 Natural Language Understanding enrichments](https://cloud.ibm.com/docs/discovery?topic=discovery-configserviceadding-enrichments) are: Entity Extraction, Sentiment Analysis, Category Classification, Concept Tagging, Keyword Extraction, Relation Extraction, Emotion Analysis, Element Classification, and Semantic Role Extraction. Only the first 50,000 characters of each document are enriched.\n\n*** Element Classification is an enrichment that parses through governing documents to convert, identify, and classify elements of importance. It uses Natural Language Processing to extract the following elements from PDF documents: party (who it refers to), nature (type of element), and category (specific class).\n\nTo take advantage of the new string environment sizing values (LT, XS, S, MS, M, ML, L, XL, XXL, XXXL), use the version date of 2018-08-01 or later in your API request when you create an environment. Before version 2018-08-01, the value was an integer.\n\n\n\n\n\n Premium \n\nPremium plans offer developers and organizations a single tenant instance of one or more Watson services for better isolation and security. These plans offer compute-level isolation on the existing shared platform, as well as end-to-end encrypted data while in transit and at rest.\n\nFor more information, or to purchase a Premium plan, contact [Sales](https://ibm.biz/contact-wdc-premium).\n\n\n\n\n\n Additional information"}, {"document_id": "ibmcld_08937-7-1991", "source": "image-templates", "score": 17.103313, "text": "\nExporting an image to IBM Cloud Object Storage \n\nFrom the Image Templates page, you can export an image template to an [IBM Cloud\u00ae Object Storage](https://cloud.ibm.com/docs/cloud-object-storage?topic=cloud-object-storage-about-cloud-object-storage) account.\n\nThe image export process takes a preexisting, private standard image template, or an encrypted image template and coverts the image into an image file that is stored in a specified location on an IBM Cloud Object Storage account.\n\nIf you imported a VMDK image, you can export that image in VHD or VMDK format. Because of the differences between the image formats, a chance of data loss exists. To protect your data if data loss occurs, the original VHD file is retained.\n\n\n\n Before you begin \n\nFirst, go to the device menu and make sure that you have the correct account permissions to complete the tasks.\n\n\n\n* Go to your console's device menu. For more information, see [Navigating to devices](https://cloud.ibm.com/docs/image-templates?topic=virtual-servers-navigating-devices).\n* Make sure that you have write access to IBM Cloud Object Storage. Only the account owner, or a user with the Manage Users classic infrastructure permission, can adjust the permissions.\n\n\n\nFor more information about permissions, see [Classic infrastructure permissions](https://cloud.ibm.com/docs/account?topic=account-infrapermissioninfrapermission) and [Managing device access](https://cloud.ibm.com/docs/virtual-servers?topic=virtual-servers-managing-device-access).\n\nIf you plan to export this image template to IBM Cloud Object Storage, make sure the image template name does not contain any characters that can be problematic in a web address. For example, ?, =, <, and other special characters might cause unwanted behavior if not URL-encoded.\n\n\n\n\n\n Exporting an image to IBM Cloud Object Storage \n\nUse the following steps to export an image template to IBM Cloud Object Storage.\n\n\n\n1. From the Devices menu, select Manage > Images.\n2."}], "targets": [{"speaker": "agent", "text": "IBM Cloudant has support for storing attachments alongside documents, a long-standing feature it inherits from CouchDB. So you can easily add an image or PDF as an attachment to your document but you must consider a few things before you use attachments in IBM Cloudant today, especially if you\u2019re looking at larger assets.\n\n1. IBM Cloudant is expensive as a block store.\n2. IBM Cloudant\u2019s internal implementation is not efficient in handling large amounts of binary data. So, slow and expensive. IBM Cloudant is acceptable for small assets and occasional use. As a rule, if you need to store binary data alongside IBM Cloudant documents, it\u2019s better to use a separate solution more suited for this purpose. You need store only the attachment metadata in the IBM Cloudant document.", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724859707}}], "predictions": [{"text": "IBM Cloudant is acceptable for storing small assets, but it is not efficient for larger binary data like images and PDFs. It is recommended to store only the attachment metadata in the IBM Cloudant document and use a separate solution more suited for larger assets. For PDFs, ensure they are not secured with a password or certificate, as those are not supported."}], "metrics": {"Recall": [0.31666666666666665], "RougeL_stemFalse": [0.2358974358974359], "BertscoreP": [0.41654667258262634], "BertscoreR": [0.2620307505130768], "BertKPrec": [0.16357214748859406, 0.3748372793197632, 0.16775007545948029, 0.06512146443128586, 0.0628538429737091], "Extractiveness_RougeL": [0.08, 0.16129032258064516, 0.09248554913294799, 0.08917197452229299, 0.07999999999999999], "Length": [363], "RB_agg": [0.41216743078480816]}}
{"task_id": "d5b1e735a040853ed361a3dfde1b8ef0<::>4", "input": [{"speaker": "user", "text": "does IBM offer document databases?", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724856842}}, {"speaker": "agent", "text": "Yes, IBM offers [IBM Cloudant](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-documents) which stores JSON objects.", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724856843}}, {"speaker": "user", "text": "So it can store any random JSON object or I need to specify fields in advances?", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724857810}}, {"speaker": "agent", "text": "Yes, IBM Cloudant can store any JSON object subject to some caveats listed below\n1. All documents must have two fields:\n    * A unique _id field. The _id field is detailed in the next section.\n    * A _rev field. The _rev field is a revision identifier, and is essential to the IBM Cloudant replication protocol.\n2. Field names that begin with the underscore character (_) are reserved in IBM Cloudant. This rule means that you can't normally have your own field names that begin with an underscore. For example, the field example would be accepted, but the field _example would result in a doc_validation error message.\n", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724857812}}, {"speaker": "user", "text": "What if I want to store an image or pdf with a document? ", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724859702}}, {"speaker": "agent", "text": "IBM Cloudant has support for storing attachments alongside documents, a long-standing feature it inherits from CouchDB. So you can easily add an image or PDF as an attachment to your document but you must consider a few things before you use attachments in IBM Cloudant today, especially if you\u2019re looking at larger assets.\n\n1. IBM Cloudant is expensive as a block store.\n2. IBM Cloudant\u2019s internal implementation is not efficient in handling large amounts of binary data. So, slow and expensive. IBM Cloudant is acceptable for small assets and occasional use. As a rule, if you need to store binary data alongside IBM Cloudant documents, it\u2019s better to use a separate solution more suited for this purpose. You need store only the attachment metadata in the IBM Cloudant document.", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724859707}}, {"speaker": "user", "text": "Is there a limit on the file size? ", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724865619}}], "contexts": [{"document_id": "ibmcld_00558-23465-25360", "source": "Cloudant", "score": 20.256994, "text": "\nIBM Cloudant JSON documents and requests have the following maximum size limits:\n\n\n\nTable 4. Maximum size limits for JSON documents and requests\n\n Limit Maximum Size \n\n Individual Document Size 1 MB \n Single Attachment Size 10 MB \n Request Body Size 11 MB \n\n\n\nIf you exceed these limits, a [413 response](https://cloud.ibm.com/apidocs/cloudantlist-of-http-codes) alerts you.\n\nThe IBM Cloudant team recommends that you store binary attachments, or large JSON blobs, in object storage and save a link to the location in an IBM Cloudant JSON document.\n\nWhen you replicate, documents or attachments that exceed these limits don't replicate to the target database. For more information about how to detect replication errors, see [Replication errors](https://cloud.ibm.com/apidocs/cloudantgetreplicationdocument).\n\n\n\n\n\n Locations and tenancy \n\nBy default, all Lite and Standard plans are deployed on multi-tenant environments. As part of your plan selection, you can choose from the following IBM Cloud locations.\n\n\n\n* Chennai (SZR)\n* Dallas\n* Frankfurt\u2021\n* London\n* Osaka\n* Sydney\n* Seoul (SZR)\n* Tokyo\n* Washington DC\n\n\n\nSingle-Zone Region (SZR) means that only one availability zone is available in that location. All other locations are Multi-Zone Regions (MZR) and leverage three separate availability zones for instances that are deployed in those locations. For more information, see the [High availability (HA), disaster recovery (DR), and backup](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-disaster-recovery-and-backup) documentation.\n\nDedicated Hardware plan instances can be deployed in most [IBM data center locations](https://www.ibm.com/cloud/data-centers/). See the drop-down menu in the IBM Cloud catalog for an up-to-date list of available locations.\n\n\u2021All IBM Cloudant instances that are deployed from the IBM Cloud Frankfurt region are deployed into EU-managed environments."}, {"document_id": "ibmcld_12904-23555-25450", "source": "services/Cloudant", "score": 20.256994, "text": "\nIBM Cloudant JSON documents and requests have the following maximum size limits:\n\n\n\nTable 4. Maximum size limits for JSON documents and requests\n\n Limit Maximum Size \n\n Individual Document Size 1 MB \n Single Attachment Size 10 MB \n Request Body Size 11 MB \n\n\n\nIf you exceed these limits, a [413 response](https://cloud.ibm.com/apidocs/cloudantlist-of-http-codes) alerts you.\n\nThe IBM Cloudant team recommends that you store binary attachments, or large JSON blobs, in object storage and save a link to the location in an IBM Cloudant JSON document.\n\nWhen you replicate, documents or attachments that exceed these limits don't replicate to the target database. For more information about how to detect replication errors, see [Replication errors](https://cloud.ibm.com/apidocs/cloudantgetreplicationdocument).\n\n\n\n\n\n Locations and tenancy \n\nBy default, all Lite and Standard plans are deployed on multi-tenant environments. As part of your plan selection, you can choose from the following IBM Cloud locations.\n\n\n\n* Chennai (SZR)\n* Dallas\n* Frankfurt\u2021\n* London\n* Osaka\n* Sydney\n* Seoul (SZR)\n* Tokyo\n* Washington DC\n\n\n\nSingle-Zone Region (SZR) means that only one availability zone is available in that location. All other locations are Multi-Zone Regions (MZR) and leverage three separate availability zones for instances that are deployed in those locations. For more information, see the [High availability (HA), disaster recovery (DR), and backup](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-disaster-recovery-and-backup) documentation.\n\nDedicated Hardware plan instances can be deployed in most [IBM data center locations](https://www.ibm.com/cloud/data-centers/). See the drop-down menu in the IBM Cloud catalog for an up-to-date list of available locations.\n\n\u2021All IBM Cloudant instances that are deployed from the IBM Cloud Frankfurt region are deployed into EU-managed environments."}, {"document_id": "ibmcld_00510-5537-7566", "source": "Cloudant", "score": 18.178736, "text": "\nInstead, keep orders separate as their own document type, referencing the customer ID. Now the model is immutable. To add an order, I create a new order document in the database, which cannot generate conflicts.\n\nTo be able to retrieve all orders for a specific customer, we can employ a view, which we cover later.\n\nAvoid constructs that rely on updates to parts of existing documents, where possible. Bad data models are often hard to change after you\u2019re in production.\n\nThe previous pattern can be solved efficiently by using partitioned databases, which are covered in greater detailed later.\n\nFor more information, see the following documentation:\n\n\n\n* IBM Cloudant guide to [data modeling](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-five-tips-for-modeling-your-data-to-scale-faq)\n* [Database partitions](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-database-partitioning)\n\n\n\n\n\n\n\n Keep documents small \n\nIBM Cloudant imposes a max doc size of 1 MB. This limit does not mean that a close-to-1-MB document size is a good idea. On the contrary, if you find you are creating documents that exceed single-digit KB, you probably need to revisit your model. Several things in IBM Cloudant become less performant as documents grow. JSON decoding is costly, for example.\n\nLet's look at the following sections: Documents must group data that mostly changes together and Keep documents small. It\u2019s worth stressing that models that rely on updates have a maximum volume limit of 1 MB, the cut-off for document size. This size isn\u2019t what you want.\n\n\n\n\n\n Avoid using attachments \n\nIBM Cloudant has support for storing attachments alongside documents, a long-standing feature it inherits from CouchDB. If you use IBM Cloudant as a backend for a web application, you can also store small icons and other static assets such as CSS and JavaScript files with the data.\n\nYou must consider a few things before you use attachments in IBM Cloudant today, especially if you\u2019re looking at larger assets such as images and videos:\n\n\n\n1."}, {"document_id": "ibmcld_00581-0-1268", "source": "Cloudant", "score": 17.78128, "text": "\n\n\n\n\n\n\n  Limits \n\nLimits that pertain to the usage of IBM\u00ae Cloudant\u00ae for IBM Cloud\u00ae databases are shown in the following tables.\n\n\n\n  Databases \n\n\n\nTable 1. Limits for databases\n\n Description     Limit                                                                             \n\n Database size   Consult the IBM Cloudant team if your database is likely to exceed 5 TB in size.  \n Partition size  10 GB                                                                             \n\n\n\n\n\n\n\n  Indexes \n\n\n\nTable 2. Limits for indexes\n\n Description                  Limit     \n\n Number of global indexes     Unlimited \n Number of partition indexes  10        \n\n\n\n\n\n\n\n  Request payload \n\n\n\nTable 3. Limits for request payload\n\n Description         Limit \n\n Total request size  10 MB \n Document size       1 MB  \n Attachment size     10 MB \n\n\n\n\n\n\n\n  Request timeouts \n\n\n\nTable 4. Limits for request timeouts\n\n Description     Limit      \n\n Default         60 seconds \n _partition/*    5 seconds  \n\n\n\n\n\n\n\n  Query \n\n\n\nTable 5. Limits for query results\n\n Description                    Limit     \n\n Default                        Unlimited \n _partition/* default           2000      \n _search                        200       \n _find by using text index      200       \n\n\n\n\n\n\n\n\n\n\n"}, {"document_id": "ibmcld_00500-14708-16372", "source": "Cloudant", "score": 16.933655, "text": "\nWe limit documents to a maximum size of 64 MB.\n\n\n\n\n\n No JavaScript reducers when options.partitioned is true \n\nDesign documents with options.partitioned set to true can't contain JavaScript reduce functions, only built-ins Erlang reducers such as _stats.\n\n\n\n\n\n\n\n Storing the view definition \n\nEach view is a JavaScript function. Views are stored in design documents. So, to store a view, IBM Cloudant simply stores the function definition within a design document. A design document can be [created or updated](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-design-documentscreating-or-updating-a-design-document) just like any other document.\n\nTo store a view definition, PUT the view definition content into a _design document.\n\nIn the following example, the getVerifiedEmails view is defined as a map function, and is available within the views field of the design document.\n\nUse the PUT method to add a view into a design document:\n\nPUT $SERVICE_URL/$DATABASE/_design/$DDOC HTTP/1.1\nContent-Type: application/json\n\nThe following sample adds a new getVerifiedEmails named view function to the allusers design document with view definition:\n\n{\n\"views\": {\n\"getVerifiedEmails\": {\n\"map\": \"function(user) { if(user.email_verified === true){ emit(doc.email, {name: user.name, email_verified: user.email_verified, joined: user.joined}) }} \"\n}\n}\n}\n\nSee the request examples:\n\n\n\n* Curl\n* Java\n* Node\n* Python\n* Go\n\n\n\ncurl -X PUT \"$SERVICE_URL/users/_design/allusers\" --data '{\n\"views\": {\n\"getVerifiedEmails\": {\n\"map\": \"function(user) { if(user.email_verified === true){ emit(doc.email, {name: user.name, email_verified: user.email_verified, joined: user.joined}) }}\""}], "targets": [{"speaker": "agent", "text": "Yes, documents are limited to a maximum size of 1 MB. Exceeding this limit causes a [413 error](https://cloud.ibm.com/apidocs/cloudantlist-of-http-codes).", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724865623}}], "predictions": [{"text": "Yes, there are limits on file sizes in IBM Cloudant. The maximum size for an individual document is 1 MB, for a single attachment is 10 MB, and for the request body is 11 MB."}], "metrics": {"Recall": [0.375], "RougeL_stemFalse": [0.22580645161290322], "BertscoreP": [0.2458096593618393], "BertscoreR": [0.08006541430950165], "BertKPrec": [0.29164010286331177, 0.29164010286331177, 0.14166827499866486, 0.11533378809690475, 0.12196812033653259], "Extractiveness_RougeL": [0.12811387900355872, 0.12811387900355872, 0.07738095238095238, 0.17073170731707318, 0.09205020920502092], "Length": [174], "RB_agg": [0.3832039137425563]}}
{"task_id": "d5b1e735a040853ed361a3dfde1b8ef0<::>5", "input": [{"speaker": "user", "text": "does IBM offer document databases?", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724856842}}, {"speaker": "agent", "text": "Yes, IBM offers [IBM Cloudant](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-documents) which stores JSON objects.", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724856843}}, {"speaker": "user", "text": "So it can store any random JSON object or I need to specify fields in advances?", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724857810}}, {"speaker": "agent", "text": "Yes, IBM Cloudant can store any JSON object subject to some caveats listed below\n1. All documents must have two fields:\n    * A unique _id field. The _id field is detailed in the next section.\n    * A _rev field. The _rev field is a revision identifier, and is essential to the IBM Cloudant replication protocol.\n2. Field names that begin with the underscore character (_) are reserved in IBM Cloudant. This rule means that you can't normally have your own field names that begin with an underscore. For example, the field example would be accepted, but the field _example would result in a doc_validation error message.\n", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724857812}}, {"speaker": "user", "text": "What if I want to store an image or pdf with a document? ", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724859702}}, {"speaker": "agent", "text": "IBM Cloudant has support for storing attachments alongside documents, a long-standing feature it inherits from CouchDB. So you can easily add an image or PDF as an attachment to your document but you must consider a few things before you use attachments in IBM Cloudant today, especially if you\u2019re looking at larger assets.\n\n1. IBM Cloudant is expensive as a block store.\n2. IBM Cloudant\u2019s internal implementation is not efficient in handling large amounts of binary data. So, slow and expensive. IBM Cloudant is acceptable for small assets and occasional use. As a rule, if you need to store binary data alongside IBM Cloudant documents, it\u2019s better to use a separate solution more suited for this purpose. You need store only the attachment metadata in the IBM Cloudant document.", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724859707}}, {"speaker": "user", "text": "Is there a limit on the file size? ", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724865619}}, {"speaker": "agent", "text": "Yes, documents are limited to a maximum size of 1 MB. Exceeding this limit causes a [413 error](https://cloud.ibm.com/apidocs/cloudantlist-of-http-codes).", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724865623}}, {"speaker": "user", "text": "Not documents, I was asking for attachments?", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724865981}}], "contexts": [{"document_id": "ibmcld_00558-23465-25360", "source": "Cloudant", "score": 15.960646, "text": "\nIBM Cloudant JSON documents and requests have the following maximum size limits:\n\n\n\nTable 4. Maximum size limits for JSON documents and requests\n\n Limit Maximum Size \n\n Individual Document Size 1 MB \n Single Attachment Size 10 MB \n Request Body Size 11 MB \n\n\n\nIf you exceed these limits, a [413 response](https://cloud.ibm.com/apidocs/cloudantlist-of-http-codes) alerts you.\n\nThe IBM Cloudant team recommends that you store binary attachments, or large JSON blobs, in object storage and save a link to the location in an IBM Cloudant JSON document.\n\nWhen you replicate, documents or attachments that exceed these limits don't replicate to the target database. For more information about how to detect replication errors, see [Replication errors](https://cloud.ibm.com/apidocs/cloudantgetreplicationdocument).\n\n\n\n\n\n Locations and tenancy \n\nBy default, all Lite and Standard plans are deployed on multi-tenant environments. As part of your plan selection, you can choose from the following IBM Cloud locations.\n\n\n\n* Chennai (SZR)\n* Dallas\n* Frankfurt\u2021\n* London\n* Osaka\n* Sydney\n* Seoul (SZR)\n* Tokyo\n* Washington DC\n\n\n\nSingle-Zone Region (SZR) means that only one availability zone is available in that location. All other locations are Multi-Zone Regions (MZR) and leverage three separate availability zones for instances that are deployed in those locations. For more information, see the [High availability (HA), disaster recovery (DR), and backup](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-disaster-recovery-and-backup) documentation.\n\nDedicated Hardware plan instances can be deployed in most [IBM data center locations](https://www.ibm.com/cloud/data-centers/). See the drop-down menu in the IBM Cloud catalog for an up-to-date list of available locations.\n\n\u2021All IBM Cloudant instances that are deployed from the IBM Cloud Frankfurt region are deployed into EU-managed environments."}, {"document_id": "ibmcld_12904-23555-25450", "source": "services/Cloudant", "score": 15.960646, "text": "\nIBM Cloudant JSON documents and requests have the following maximum size limits:\n\n\n\nTable 4. Maximum size limits for JSON documents and requests\n\n Limit Maximum Size \n\n Individual Document Size 1 MB \n Single Attachment Size 10 MB \n Request Body Size 11 MB \n\n\n\nIf you exceed these limits, a [413 response](https://cloud.ibm.com/apidocs/cloudantlist-of-http-codes) alerts you.\n\nThe IBM Cloudant team recommends that you store binary attachments, or large JSON blobs, in object storage and save a link to the location in an IBM Cloudant JSON document.\n\nWhen you replicate, documents or attachments that exceed these limits don't replicate to the target database. For more information about how to detect replication errors, see [Replication errors](https://cloud.ibm.com/apidocs/cloudantgetreplicationdocument).\n\n\n\n\n\n Locations and tenancy \n\nBy default, all Lite and Standard plans are deployed on multi-tenant environments. As part of your plan selection, you can choose from the following IBM Cloud locations.\n\n\n\n* Chennai (SZR)\n* Dallas\n* Frankfurt\u2021\n* London\n* Osaka\n* Sydney\n* Seoul (SZR)\n* Tokyo\n* Washington DC\n\n\n\nSingle-Zone Region (SZR) means that only one availability zone is available in that location. All other locations are Multi-Zone Regions (MZR) and leverage three separate availability zones for instances that are deployed in those locations. For more information, see the [High availability (HA), disaster recovery (DR), and backup](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-disaster-recovery-and-backup) documentation.\n\nDedicated Hardware plan instances can be deployed in most [IBM data center locations](https://www.ibm.com/cloud/data-centers/). See the drop-down menu in the IBM Cloud catalog for an up-to-date list of available locations.\n\n\u2021All IBM Cloudant instances that are deployed from the IBM Cloud Frankfurt region are deployed into EU-managed environments."}, {"document_id": "ibmcld_12748-0-2435", "source": "security-compliance", "score": 13.779113, "text": "\n\n\n\n\n\n\n  Limits \n\nIBM Cloud\u00ae Security and Compliance Center has the following known limits that might impact your experience.\n\n\n\nTable 1. Security and Compliance Center limits\n\n                            Limit                                                        \n\n Custom rules               500 per enterprise account  <br>100 per stand-alone account  \n Rule description           256 characters                                               \n Rule size                  4096 characters                                              \n Target                     1 per rule                                                   \n Condition                  16 per rule                                                  \n Property                   24 per condition                                             \n Label                      32 per rule                                                  \n Custom libraries           10 per enterprise account  <br>5 per stand-alone account     \n Library name               64 Characters                                                \n Library description        256 characters                                               \n Library size               Less than 1 MB                                               \n Profile name               64 characters                                                \n Profile description        256 Characters                                               \n Profile size               Less than 1 MB                                               \n Custom profiles            20 per enterprise account  <br>5 per stand-alone account     \n Control                    1200 per library  <br>600 per profile                        \n Control name               64 characters                                                \n Control description        256 characters                                               \n Specification              100 per control per library  <br>400 per control per profile \n Specification description  256 characters                                               \n Assessment                 10 per specification per library or profile                  \n Attachment                 50 per account                                               \n Exclusion                  8 per attachment                                             \n Scan                       1 per attachment - at any time                               \n\n\n\n\n\n\n\n\n"}, {"document_id": "ibmcld_00510-5537-7566", "source": "Cloudant", "score": 13.692636, "text": "\nInstead, keep orders separate as their own document type, referencing the customer ID. Now the model is immutable. To add an order, I create a new order document in the database, which cannot generate conflicts.\n\nTo be able to retrieve all orders for a specific customer, we can employ a view, which we cover later.\n\nAvoid constructs that rely on updates to parts of existing documents, where possible. Bad data models are often hard to change after you\u2019re in production.\n\nThe previous pattern can be solved efficiently by using partitioned databases, which are covered in greater detailed later.\n\nFor more information, see the following documentation:\n\n\n\n* IBM Cloudant guide to [data modeling](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-five-tips-for-modeling-your-data-to-scale-faq)\n* [Database partitions](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-database-partitioning)\n\n\n\n\n\n\n\n Keep documents small \n\nIBM Cloudant imposes a max doc size of 1 MB. This limit does not mean that a close-to-1-MB document size is a good idea. On the contrary, if you find you are creating documents that exceed single-digit KB, you probably need to revisit your model. Several things in IBM Cloudant become less performant as documents grow. JSON decoding is costly, for example.\n\nLet's look at the following sections: Documents must group data that mostly changes together and Keep documents small. It\u2019s worth stressing that models that rely on updates have a maximum volume limit of 1 MB, the cut-off for document size. This size isn\u2019t what you want.\n\n\n\n\n\n Avoid using attachments \n\nIBM Cloudant has support for storing attachments alongside documents, a long-standing feature it inherits from CouchDB. If you use IBM Cloudant as a backend for a web application, you can also store small icons and other static assets such as CSS and JavaScript files with the data.\n\nYou must consider a few things before you use attachments in IBM Cloudant today, especially if you\u2019re looking at larger assets such as images and videos:\n\n\n\n1."}, {"document_id": "ibmcld_06968-18330-20453", "source": "discovery-data", "score": 13.357092, "text": "\nPlus (includes Trial) 10 MB \n\n\n\n\n\n\n\n\n\n Field limits \n\nWhen a document is added to a collection, content from the document is evaluated and added to the appropriate fields in an internal index.\n\nFor structured data, such as uploaded CSV or JSON files, or data from crawled databases, each column or object is stored as a root-level field. For example, if you add a CSV file to collection, each column in the CSV file is stored as a separate field in the index.\n\nA maximum of 1,000 fields can be added to the index.\n\nYou cannot assign the data type, such as Date or String, of a field. The data type is detected automatically and assigned to the field during document ingestion. The assignment is based on the data type that is detected from the first document that is indexed. Ingestion errors can occur in subsequent documents if a different data type is detected for the value in the same field. Therefore, if your documents have a mix of data types in a single field, first ingest the document that has a value with the most flexible data type, such as String, in the field.\n\nWhen you crawl a website or upload an HTML file, the HTML content is added to the collection and indexed in an html field.\n\nThe following table shows the maximum size limit for fields per document.\n\n\n\nMaximum field sizes\n\n Field type Maximum allowed size per document \n\n html field 5 MB \n Sum of all other fields 1 MB \n\n\n\nIf the maximum size of the fields in the document exceeds the allowed limits, they are treated as follows:\n\n\n\n* For a document with an oversized html field, all of the fields in the document are indexed except the html field.\n\nFor IBM Cloud Pak for Data version 4.0 and earlier, the entire document is not indexed.\n* For a document with oversized non-HTML fields, the document is not indexed.\n\n\n\nIf you are uploading a Microsoft Excel file and a message is displayed that indicates that the non-HTML field size limit is exceeded, consider converting the XLS file into a CSV file. When you upload a comma-separated value (CSV) file, each row is indexed as a separate document. As a result, no field size limits are exceeded."}], "targets": [{"speaker": "agent", "text": "I am sorry I couldn't find any explicit limits on attachment size but as stated earlier IBM Cloudant isn't best suited for handling large amounts of binary data. Thus it\u2019s better to use a separate solution more suited for this purpose and only store the attachment metadata in the IBM Cloudant document.", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724865987}}], "predictions": [{"text": "IBM Cloudant has a maximum size limit for a single attachment of 10 MB."}], "metrics": {"Recall": [0.12244897959183673], "RougeL_stemFalse": [0.1449275362318841], "BertscoreP": [0.3542323708534241], "BertscoreR": [0.008464857935905457], "BertKPrec": [0.3705504238605499, 0.3705504238605499, -0.165644571185112, 0.31164786219596863, 0.35413652658462524], "Extractiveness_RougeL": [0.06923076923076922, 0.06923076923076922, 0.05747126436781609, 0.05714285714285714, 0.04113110539845758], "Length": [71], "RB_agg": [0.29006582239108786]}}
{"task_id": "d5b1e735a040853ed361a3dfde1b8ef0<::>6", "input": [{"speaker": "user", "text": "does IBM offer document databases?", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724856842}}, {"speaker": "agent", "text": "Yes, IBM offers [IBM Cloudant](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-documents) which stores JSON objects.", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724856843}}, {"speaker": "user", "text": "So it can store any random JSON object or I need to specify fields in advances?", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724857810}}, {"speaker": "agent", "text": "Yes, IBM Cloudant can store any JSON object subject to some caveats listed below\n1. All documents must have two fields:\n    * A unique _id field. The _id field is detailed in the next section.\n    * A _rev field. The _rev field is a revision identifier, and is essential to the IBM Cloudant replication protocol.\n2. Field names that begin with the underscore character (_) are reserved in IBM Cloudant. This rule means that you can't normally have your own field names that begin with an underscore. For example, the field example would be accepted, but the field _example would result in a doc_validation error message.\n", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724857812}}, {"speaker": "user", "text": "What if I want to store an image or pdf with a document? ", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724859702}}, {"speaker": "agent", "text": "IBM Cloudant has support for storing attachments alongside documents, a long-standing feature it inherits from CouchDB. So you can easily add an image or PDF as an attachment to your document but you must consider a few things before you use attachments in IBM Cloudant today, especially if you\u2019re looking at larger assets.\n\n1. IBM Cloudant is expensive as a block store.\n2. IBM Cloudant\u2019s internal implementation is not efficient in handling large amounts of binary data. So, slow and expensive. IBM Cloudant is acceptable for small assets and occasional use. As a rule, if you need to store binary data alongside IBM Cloudant documents, it\u2019s better to use a separate solution more suited for this purpose. You need store only the attachment metadata in the IBM Cloudant document.", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724859707}}, {"speaker": "user", "text": "Is there a limit on the file size? ", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724865619}}, {"speaker": "agent", "text": "Yes, documents are limited to a maximum size of 1 MB. Exceeding this limit causes a [413 error](https://cloud.ibm.com/apidocs/cloudantlist-of-http-codes).", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724865623}}, {"speaker": "user", "text": "Not documents, I was asking for attachments?", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724865981}}, {"speaker": "agent", "text": "I am sorry I couldn't find any explicit limits on attachment size but as stated earlier IBM Cloudant isn't best suited for handling large amounts of binary data. Thus it\u2019s better to use a separate solution more suited for this purpose and only store the attachment metadata in the IBM Cloudant document.", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724865987}}, {"speaker": "user", "text": "Ok. How do I get started? I just look through cloud catelog for IBM Cloudant? ", "metadata": {"author_type": "human", "author_id": "e1883ed3-18c7-46b7-aa22-3ecbac1cdcf0", "created_at": 1724866448}}], "contexts": [{"document_id": "ibmcld_00547-7-1654", "source": "Cloudant", "score": 17.218727, "text": "\nGetting started with IBM Cloudant \n\nThe IBM\u00ae Cloudant\u00ae for IBM Cloud\u00ae Getting started tutorial demonstrates how to use the IBM Cloud\u00ae dashboard to create an IBM Cloudant service instance and obtain service credentials to connect to it. Finally, it guides you through the creation of a simple, locally hosted web application that uses your IBM Cloudant database.\n\n\n\n Objectives \n\n\n\n* Create a service instance.\n* Create an IBM Cloudant service credential.\n\n\n\n\n\n\n\n Step 1: Creating a service instance \n\n\n\n1. Log in to your IBM Cloud account, and click Create resource.\n\nZoom\n\n![IBM Cloud Dashboard, which includes Build tile, Monitor your resources tile, Create and deploy an application tile, API Connect tile, Integrate Watson with anything tile, and Watson starter kits tile.](https://cloud.ibm.com/docs-content/v1/content/522c6f62358b063f921283400a601c3f9bc66f08/Cloudant//tutorials/images/img0001.png)\n\nFigure 1. IBM Cloud Dashboard\n\nThe IBM Cloud Dashboard can be found at: [https://cloud.ibm.com/](https://cloud.ibm.com/). After you authenticate with your username and password, you're presented with the IBM Cloud Dashboard.\n2. Type Cloudant in the Search bar and click to open it.\n3. Select an offering and an environment.\n4. Type an instance name.\n\nZoom\n\n![Create the IBM Cloudant service name and credentials.](https://cloud.ibm.com/docs-content/v1/content/522c6f62358b063f921283400a601c3f9bc66f08/Cloudant/tutorials/images/img0005b.png)\n\nFigure 2. IBM Cloudant service name and credentials\n\n(In this example, the instance name is Cloudant-o7.) Verify that the resource group and authentication methods are correct. Add a tag if you like.", "reference": true}, {"document_id": "ibmcld_04650-5479-6774", "source": "cloud-foundry-public", "score": 15.97459, "text": "\nThis file will get used ONLY when the app is running locally. When running in IBM Cloud, the credentials will be read from the VCAP_SERVICES environment variable.\n\n\n\n1. Create a file called .env in the get-started-go directory with the following content:\n\nCLOUDANT_URL=\n2. Find your app in the IBM Cloud [resource list](https://cloud.ibm.com/resources). On the Service Details page for your app, click Connections in the sidebar. Click the IBM Cloudant menu icon (\u2026) and select View credentials.\n3. Copy and paste just the url from the credentials to the CLOUDANT_URL field of the .env file and save the changes. The result will be something like:\n\nCLOUDANT_URL=https://123456789 ... bluemix.cloudant.com\n4. Run your app locally.\n\ngo run main.go\n5. View your app at: http://localhost:8080. Any names that you enter into the app are added to the database.\n\n\n\nYour local app and the IBM Cloud app share the database. View your IBM Cloud app at the URL listed in the output of the push command. Names you add from either app show in both apps when you refresh the browsers.\n\nIf you don't need your app live, stop it so you don't incur any unexpected charges.\n\n\n\n\n\n Next steps \n\n\n\n* [Samples](https://ibm-cloud.github.io)\n* [Architecture Center](https://www.ibm.com/cloud/architecture/architectures)"}, {"document_id": "ibmcld_04654-5723-7203", "source": "cloud-foundry-public", "score": 15.7794075, "text": "\nWhen running in IBM Cloud, the credentials will be read from the VCAP_SERVICES environment variable.\n\n\n\n1. Create a file called vcap-local.json in the get-started-python directory with the following content:\n\n{\n\"services\": {\n\"cloudantNoSQLDB\": [\n{\n\"credentials\": {\n\"username\":\"CLOUDANT_DATABASE_USERNAME\",\n\"password\":\"CLOUDANT_DATABASE_PASSWORD\",\n\"host\":\"CLOUDANT_DATABASE_HOST\"\n},\n\"label\": \"cloudantNoSQLDB\"\n}\n]\n}\n}\n2. Find your app in the IBM Cloud [resource list](https://cloud.ibm.com/resources). On the Service Details page for your app, click Connections in the sidebar. Click the IBM Cloudant menu icon (\u2026) and select View credentials.\n3. Copy and paste the username, password, and host from the credentials to the same fields of the vcap-local.json file replacing CLOUDANT_DATABASE_USERNAME, CLOUDANT_DATABASE_PASSWORD, and CLOUDANT_DATABASE_HOST.\n4. Run your app locally.\n\npython hello.py\n\n\n\nView your app at: http://localhost:8000. Any names you enter into the app will now get added to the database.\n\nYour local app and the IBM Cloud app are sharing the database. View your IBM Cloud app at the URL listed in the output of the push command from above. Names you add from either app should appear in both when you refresh the browsers.\n\nRemember, if you don't need your app live, stop it so you don't incur any unexpected charges.\n\n\n\n\n\n Next steps \n\n\n\n* [Samples](https://ibm-cloud.github.io)\n* [Architecture Center](https://www.ibm.com/cloud/architecture/architectures)"}, {"document_id": "ibmcld_05499-1332-3032", "source": "codeengine", "score": 15.41042, "text": "\nYou can create one [from the console](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-getting-started-with-cloudant) or by using CLI commands. In addition, create service credentials that you can pass to your application.\n\n\n\n1. Create an IBM Cloudant service instance, follow the steps in [Getting started with IBM Cloudant](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-getting-started-with-cloudant). Name your instance CloudantFruitCounter. Be sure to complete the task by creating your service credentials.\n2. Open the IBM Cloudant dashboard for your instance and click Create database.\n3. In the Create database window, enter the database name fruitcounter.\n4. Do not select the Partitioned option, and click Create.\n\n\n\n\n\n\n\n Step 2: Test your application locally \n\nBefore you create your code as an application in Code Engine, test your code locally to make sure that it is functioning correctly.\n\n\n\n1. Retrieve the IBM Cloudant service credentials from the IBM Cloudant dashboard. For more information about retrieving credentials, see [Creating service credentials](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-getting-started-with-cloudantcreating-service-credentials).\n2. Set environment variables with the values from the service credentials.\n\nexport CLOUDANT_URL=<your_url>\n\nexport CLOUDANT_APIKEY=<your_key>\n\nexport DBNAME=\"fruitcounter\"\n3. Clone the fruit-counter repository, change to this directory, and then install and start the dependencies.\n\ngit clone https://github.com/IBM/CodeEngine\ncd CodeEngine/fruit-counter\nnpm install\nnpm run start\n4. Open a browser and go to [http://localhost:8080](http://localhost:8080).\n5. Pick your favorite fruit and submit your choice."}, {"document_id": "ibmcld_00522-7-1725", "source": "Cloudant", "score": 15.363066, "text": "\nDigging deeper into IBM Cloudant Dashboard \n\nThe IBM\u00ae Cloudant\u00ae for IBM Cloud\u00ae Dashboard gives new and experienced IBM Cloudant users the opportunity to add, edit, and delete documents. The IBM Cloudant users can refine the indexing and querying options that best suit their application's use-cases.\n\n\n\n Objectives \n\nSet up some basic indexes using the Dashboard to see how each of IBM Cloudant's querying mechanisms works.\n\n\n\n\n\n Before you begin \n\nYou need to create a service instance in IBM Cloudant before you start this tutorial. You can follow the instructions in the [Getting started](https://cloud.ibm.com/docs/Cloudant?topic=Cloudant-getting-started-with-cloudant) tutorial to create one.\n\n\n\n\n\n Step 1. The data set \n\n\n\n1. Create a database called books.\n2. Create some sample data that represents a book in a library as shown in the following example:\n\n{\n\"_id\": \"BXP9G5ZQY9Q4EA13\",\n\"author\": \"Dickens\",\n\"title\": \"David Copperfield\",\n\"year\": 1840,\n\"pages\": 723,\n\"publisher\": \"Penguin\",\n\"url\": \"https://www.somurl.com/dc\"\n}\n3. Continue to add some documents that match the pattern in the previous step by using the IBM Cloudant Dashboard.\n\nThe documents store simple key/value pairs that hold metadata about each book: its author and its publisher. In this example, we address the following three use-cases:\n\n\n\n1. A query facility that allows a user to find a book by a known publisher and year.\n2. A general-purpose search engine that allows a user to find books by a combination of one or more of the following descriptors: author, title, year, and publisher.\n3. A report that details the number of books that are published by year.\n\n\n\n\n\n\n\n\n\n Step 2. Querying books by publisher and year - IBM Cloudant Query"}], "targets": [{"speaker": "agent", "text": "It's quite easy to get setup with IBM Cloudant instance. Let me walk you through it.\n\n1. Log in to your IBM Cloud account, and click Create resource. \n\n2. Type Cloudant in the Search bar and click to open it. \n\n3. Select an offering and an environment. \n\n4. Type an instance name. \n\n5. Select your plan. \n\n6. To create the service, click Create:\nAfter you click Create, the system displays a message to say that the instance is being provisioned, which returns you to the Resource list. From the Resource list, you see that the status for your instance is, Provision in progress. \n\n7. After you create an instance, the status changes to Active.  ", "metadata": {"author_type": "model", "author_id": "flan-t5-xl-3b", "created_at": 1724866456}}], "predictions": [{"text": "To get started with IBM Cloudant, you can follow the \"Getting started with IBM Cloudant\" tutorial, which demonstrates how to create an IBM Cloudant service instance and obtain service credentials. You can find the IBM Cloud Dashboard at [https://cloud.ibm.com/](https://cloud.ibm.com/) and search for Cloudant to begin the process."}], "metrics": {"Recall": [0.19801980198019803], "RougeL_stemFalse": [0.18934911242603553], "BertscoreP": [0.19825780391693115], "BertscoreR": [-0.01652541756629944], "BertKPrec": [0.45652109384536743, 0.22833234071731567, 0.23232990503311157, 0.33081942796707153, 0.3244187831878662], "Extractiveness_RougeL": [0.248062015503876, 0.12195121951219512, 0.1129032258064516, 0.18326693227091634, 0.1254125412541254], "Length": [331], "RB_agg": [0.34530422001345734]}}
